/*
* rwdImageMaps jQuery plugin v1.2
*
* Allows image maps to be used in a responsive design by recalculating the area coordinates to match the actual image size on load and window.resize
*
* Copyright (c) 2012 Matt Stow
* https://github.com/stowball/jQuery-rwdImageMaps
* http://mattstow.com
* Licensed under the MIT license
*/
(function(a){a.fn.rwdImageMaps=function(){var d=this,c=parseFloat(a.fn.jquery);var b=function(){d.each(function(){if(typeof(a(this).attr("usemap"))=="undefined"){return}var e=this;a("<img />").attr("src",a(e).attr("src")).load(function(){var f,i;if(c<1.6){f=a(e)[0].getAttribute("width"),i=a(e)[0].getAttribute("height")}else{f=a(e).attr("width"),i=a(e).attr("height")}var g=a(e).width()/100,k=a(e).height()/100,j=a(e).attr("usemap").replace("#",""),l="coords";a('map[name="'+j+'"]').find("area").each(function(){if(!a(this).data(l)){a(this).data(l,a(this).attr(l))}var n=a(this).data(l).split(","),m=new Array(n.length);for(var h=0;h<m.length;++h){if(h%2===0){m[h]=parseInt(((n[h]/f)*100)*g)}else{m[h]=parseInt(((n[h]/i)*100)*k)}}a(this).attr(l,m.toString())})})})};b();a(window).resize(function(){b()})}})(jQuery);